(window.webpackJsonp=window.webpackJsonp||[]).push([[45,46,47],{274:function(t,i,e){"use strict";e(8),e(3),e(17),e(15),e(38),e(233),e(265),e(127),e(128),e(129);var o=e(37),s=e(51),a=e(34),r=e(107),n=e(40),c=e(114),d=e(52),h=e(112),u=e(111),l=e(103),y=e(55),p=e(36),b=e(61),m=e(5),f=e(79),_=e(11),O=e(2),g=e(60),j=e(256),v=e(259),P=e(261),w=e(268),S=e(202),k=e(255),V=e(204),I=e(203),T=e(281),B=e(279),x=e(282),A=e(283),C=e(284),q=e(258),L=e(285),z=e(41),M=e(191);const Q="object"==typeof window&&window.storefront||{},E=()=>Q.context&&Q.context.body||{},D=()=>E()._id,F=t=>{const i=Object.assign({},t);return delete i.body_html,delete i.body_text,delete i.specifications,delete i.inventory_records,delete i.price_change_records,i};var W={name:"TheProduct",components:{Portal:w.a,ALink:S.a,AAlert:k.a,APicture:V.a,APrices:I.a,AShare:T.a,KitProductVariations:x.a,ProductVariations:B.a,ProductGallery:A.a,QuantitySelector:C.a,ShippingCalculator:q.a,PaymentOption:L.a},props:{productId:{type:String,default:()=>D()},product:Object,headingTag:{type:String,default:"h1"},buyText:String,galleryColClassName:{type:String,default:"col-12 col-md-6"},hasPromotionTimer:Boolean,hasStickyBuyButton:{type:Boolean,default:!0},hasQuantitySelector:Boolean,canAddToCart:{type:Boolean,default:!0},hasBuyButton:{type:Boolean,default:!0},lowQuantityToWarn:{type:Number,default:12},maxVariationOptionsBtns:Number,isQuickview:Boolean,paymentAppsSort:{type:Array,default:()=>window.ecomPaymentApps||[]},quoteLink:String,isSSR:Boolean,ecomPassport:{type:Object,default:()=>z.a},accountUrl:{type:String,default:"/app/#/account/"}},data:()=>({body:{},fixedPrice:null,selectedVariationId:null,currentGalleyImg:1,isOnCart:!1,qntToBuy:1,isStickyBuyVisible:!1,isFavorite:!1,hasClickedBuy:!1,hasLoadError:!1,paymentOptions:[],customizations:[],kitItems:[],currentTimer:null}),computed:{i19addToFavorites:()=>Object(s.a)(o.m),i19close:()=>Object(s.a)(o.P),i19days:()=>Object(s.a)(o.gb),i19discountOf:()=>Object(s.a)(o.kb),i19endsIn:()=>Object(s.a)(o.sb),i19freeShippingFrom:()=>Object(s.a)(o.Db),i19loadProductErrorMsg:()=>Object(s.a)(o.dc),i19offer:()=>Object(s.a)(o.Ic),i19only:()=>Object(s.a)(o.Lc),i19outOfStock:()=>Object(s.a)(o.Sc),i19paymentOptions:()=>Object(s.a)(o.Wc),i19perUnit:()=>Object(s.a)(o.Xc),i19productionDeadline:()=>Object(s.a)(o.hd),i19removeFromFavorites:()=>Object(s.a)(o.vd),i19retry:()=>Object(s.a)(o.yd),i19selectVariationMsg:()=>Object(s.a)(o.Od),i19unavailable:()=>Object(s.a)(o.je),i19quoteProduct:()=>"Cotar produto",i19units:()=>Object(s.a)(o.ke).toLowerCase(),i19unitsInStock:()=>Object(s.a)(o.le),i19workingDays:()=>Object(s.a)(o.ve),selectedVariation(){return this.selectedVariationId?this.body.variations.find((({_id:t})=>t===this.selectedVariationId)):{}},name(){return this.selectedVariation.name||Object(a.a)(this.body)},isInStock(){return Object(r.a)(this.body)},isWithoutPrice(){return!Object(n.a)(this.body)},isVariationInStock(){return Object(r.a)(this.selectedVariationId?this.selectedVariation:this.body)},isLogged:()=>z.a.checkAuthorization(),thumbnail(){return Object(c.a)(this.body,null,"small")},productQuantity(){return this.selectedVariation.quantity?this.selectedVariation.quantity:this.body.quantity?this.body.quantity:void 0},isLowQuantity(){return this.productQuantity>0&&this.lowQuantityToWarn>0&&this.productQuantity<=this.lowQuantityToWarn},strBuy(){return this.buyText||Object(s.a)(o.z)},discount(){const{body:t}=this,i=this.fixedPrice||Object(n.a)(t);return Object(d.a)(t)||t.price>i?Math.round(100*(t.base_price-i)/t.base_price):0},isOnSale(){const{body:t}=this;return this.hasPromotionTimer&&Object(d.a)(t)&&t.price_effective_date&&t.price_effective_date.end&&Date.now()<new Date(t.price_effective_date.end).getTime()},ghostProductForPrices(){const t={};["price","base_price"].forEach((i=>{let e=this.selectedVariation[i]||this.body[i];void 0!==e&&this.customizations.forEach((t=>{t.add_to_price&&(e+=this.getAdditionalPrice(t.add_to_price))})),t[i]=e}));const i={...this.body};return this.selectedVariationId&&(Object.assign(i,this.selectedVariation),delete i.variations),{...i,...t}},hasVariations(){return this.body.variations&&this.body.variations.length},isKit(){return this.body.kit_composition&&this.body.kit_composition.length},isKitWithVariations(){return this.kitItems.some((t=>t.variations&&t.variations.length))}},methods:{getVariationsGrids:h.a,getSpecValueByText:u.a,setBody(t){this.body={...t,body_html:"",body_text:"",inventory_records:[]},this.$emit("update:product",t)},fetchProduct(t=!1){const{productId:i}=this;return Object(m.g)({url:`/products/${i}.json`,axiosConfig:{timeout:t?2500:6e3}}).then((({data:t})=>{this.setBody(t),D()===i&&(Q.context.body=this.body),this.hasLoadError=!1})).catch((i=>{console.error(i);const{response:e}=i;e&&e.status>=400&&e.status<500||(t?(this.setBody(E()),this.body.name&&this.body.price&&this.body.pictures||(this.hasLoadError=!0)):this.fetchProduct(!0))}))},getAdditionalPrice({type:t,addition:i}){return"fixed"===t?i:Object(n.a)(this.body)*i/100},formatAdditionalPrice(t){return t&&t.addition?Object(l.a)(this.getAdditionalPrice(t)):""},setCustomizationOption(t,i){const e=this.customizations.findIndex((({_id:i})=>i===t._id));i?e>-1?this.customizations[e].option={text:i}:this.customizations.push({_id:t._id,label:t.label,add_to_price:t.add_to_price,option:{text:i}}):e>-1&&this.customizations.splice(e,1)},showVariationPicture(t){if(t.picture_id){const i=this.body.pictures.findIndex((({_id:i})=>i===t.picture_id));this.currentGalleyImg=i+1}},handleGridOption({gridId:t,gridIndex:i,optionText:e}){if(0===i){const i=this.body.variations.find((i=>Object(y.a)(i,t)===e));i&&this.showVariationPicture(i)}},toggleFavorite(){this.isLogged&&(this.isFavorite=Object(M.b)(this.body._id,this.ecomPassport))},buy(){this.hasClickedBuy=!0;const t=F(this.body);let i;if(this.hasVariations){if(!this.selectedVariationId)return;i=this.selectedVariationId}const e=[...this.customizations];this.$emit("buy",{product:t,variationId:i,customizations:e}),this.canAddToCart&&_.a.addProduct({...t,customizations:e},i,this.qntToBuy),this.isOnCart=!0,$(".aside-right").addClass("visible"),$(".aside-left").remove1Class("visible")},buyOrScroll(){this.hasVariations||this.isKit?Object(P.a)(this.$refs.actions):this.buy()}},watch:{selectedVariationId(t){if(t){this.hasClickedBuy&&(this.hasClickedBuy=!1);const{pathname:i}=window.location,e=new URLSearchParams(window.location.search);e.set("variation_id",t),window.history.pushState({pathname:i,params:e.toString()},"",`${i}?${e.toString()}`),this.showVariationPicture(this.selectedVariation)}},fixedPrice(t){t>0&&!this.isQuickview&&Object(v.a)((()=>{Object(m.c)({url:"/list_payments.json",method:"POST",data:{amount:{total:t},items:[{...F(this.body),product_id:this.body._id}],currency_id:this.body.currency_id||p.$ecomConfig.get("currency"),currency_symbol:this.body.currency_symbol||p.$ecomConfig.get("currency_symbol")}}).then((({data:t})=>{Array.isArray(this.paymentAppsSort)&&this.paymentAppsSort.length&&Object(j.a)(t.result,this.paymentAppsSort),this.paymentOptions=t.result.reduce(((t,i)=>(i.validated&&t.push({app_id:i.app_id,...i.response}),t)),[]).sort(((t,i)=>!t.discount_option||!t.discount_option.value||i.discount_option&&i.discount_option.value?1:-1))})).catch(console.error)}))},isKit:{handler(t){if(t&&!this.kitItems.length){const t=this.body.kit_composition,i=new f.a;i.setPageSize(t.length).setProductIds(t.map((({_id:t})=>t))).fetch(!0).then((()=>{i.getItems().forEach((i=>{const{quantity:e}=t.find((({_id:t})=>t===i._id));(t=>{const o=_.a.parseProduct(i,t,e);e?o.min_quantity=o.max_quantity=e:o.quantity=0,this.kitItems.push({...o,_id:Object(b.a)()})})()}))})).catch(console.error)}},immediate:!0}},created(){const t=()=>{this.qntToBuy=this.body.min_quantity||1};this.product?(this.body=this.product,this.isSSR?this.fetchProduct().then(t):t()):this.fetchProduct().then(t),this.isFavorite=Object(M.a)(this.body._id||this.productId,this.ecomPassport)},mounted(){if(this.$refs.sticky&&!this.isWithoutPrice){let t=!1;const i=(e=!0)=>{const o=this.$refs[e?"sticky":"buy"];if(!o)return;const s=document.createElement("div");o.parentNode.insertBefore(s,o),e&&(s.style.position="absolute",s.style.bottom=O.isMobile?"-1600px":"-1000px");Object(g.a)(s,{rootMargin:"100px",threshold:0,load:()=>{this.isStickyBuyVisible=e,e&&!t&&this.$nextTick((()=>{const i=this.$refs.sticky.offsetHeight;document.body.style.paddingBottom=`${i+4}px`,t=!0})),s.remove(),setTimeout((()=>{const t=function(){i(!e),document.removeEventListener("scroll",t)};document.addEventListener("scroll",t)}),100)}}).observe()};i()}if(this.isOnSale){const t=new Date(this.body.price_effective_date.end),i=Date.now();if(t.getTime()>i){let e;const o=864e5;Math.floor((t.getTime()-i)/o)>2?(e=new Date,e.setHours(23,59,59,999)):e=t;const s=t=>t<10?`0${t}`:t,a=()=>{const t=e.getTime()-Date.now(),i=Math.floor(t/o),a=Math.floor(t%o/36e5),r=Math.floor(t%36e5/6e4),n=Math.floor(t%6e4/1e3);return(i>0?`${s(i)}:`:"")+`${s(a)}:${s(r)}:${s(n)}`};this.currentTimer=setInterval((()=>{this.$refs.timer.innerHTML=a()}),1e3)}}},destroyed(){this.currentTimer&&clearInterval(this.currentTimer)}};i.a=W}},0,[41,42]]);